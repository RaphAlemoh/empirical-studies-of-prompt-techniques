```php
function removeDuplicates(&$nums) {
    $len = count($nums);
    if ($len == 1) return 1;
    
    $i = 0;
    for ($j = 1; $j < $len; ++$j) {
        if ($nums[$i] != $nums[$j]) {
            $i++;
            $nums[$i] = $nums[$j];
        }
    }
    
    return $i + 1;
}
```

