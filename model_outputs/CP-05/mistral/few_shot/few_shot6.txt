 Here's a solution for the given problem in PHP. The idea is to maintain two pointers, one at the start and another at the end of the array, and keep track of left and right height bars, and the maximum height between them. If the height of the current bar is less than both the left and right max heights, we can calculate the trapped water and update the total.

```php
function trap(array $height): int {
    $n = count($height);
    $left = array_fill(0, $n, 0);
    $right = array_fill(0, $n, 0);

    // Calculate left and right max heights.
    for ($i = 1; $i < $n; $i++) {
        $left[$i] = max($left[$i - 1], $height[$i - 1]);
    }

    for ($i = $n - 2; $i >= 0; $i--) {
        $right[$i] = max($right[$i + 1], $height[$i + 1]);
    }

    // Calculate trapped water.
    $trappedWater = 0;
    for ($i = 0; $i < $n; $i++) {
        $trappedWater += min($left[$i], $right[$i]) - $height[$i];
    }

    return $trappedWater;
}
```

This function first calculates the maximum height to the left and right of each bar. Then it iterates through the array, calculating the amount of trapped water for each bar by subtracting its height from the minimum of left and right max heights. The total trapped water is returned at the end.

