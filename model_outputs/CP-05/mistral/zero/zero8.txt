 Here is a PHP implementation of the solution for trapping rainwater using an O(n) time and O(1) space complexity approach:

```php
function trap($height) {
    $n = count($height);
    $leftMax = [0];
    $rightMax = [$n - 1];

    for ($i = 1; $i < $n; ++$i) {
        $leftMax[$i] = max($leftMax[$i - 1], $height[$i - 1]);
    }

    for ($i = $n - 2; $i >= 0; --$i) {
        $rightMax[$i] = max($rightMax[$i + 1], $height[$i + 1]);
    }

    $trappedWater = 0;
    for ($i = 0; $i < $n; ++$i) {
        $trappedWater += min($leftMax[$i], $rightMax[$i]) - $height[$i];
    }

    return $trappedWater;
}
```

This solution works by first finding the maximum height to the left and right of each bar in the array. Then, for each bar, it calculates the amount of trapped water as the minimum between the left and right max heights and subtracts the current bar's height. Finally, the total trapped water is calculated by summing up the trapped water at every position in the array.

